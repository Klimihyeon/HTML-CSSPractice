<!DOCTYPE html>
<html lang="kr">
<head>
<meta charset="UTF-8">
<title>title name</title>
<style>
</style>
</head>
<body>
<h3>주민등록번호 유효성 검사</h3>
	주민등록번호 : <input type="text" id="jumin">
	<button type="button" onclick="proc2()">확인</button>
	<script>
	//1.마지막자리 빼고 총합
	//2.1번 합을 11로 나눈 나머지
	//3.11 - 2번
	//4.0~9이면 그대로, 10이면 0, 11이면 1로 변환
	//4번 결과와 M자리 값이 맞으면 맞음.
	function proc2() {
		var val = document.getElementById("jumin").value;
		// 123456-1234567
		// 1234561234567		
		val = val.replace("-", "");// 1234561234567 모양으로 변환
		//*""은 없음, " "는 공백.
		
		// val과 곱할 숫자
		var arr = [2,3,4,5,6,7,8,9,2,3,4,5];
		
		// val과 arr 곱하기 합계내기
		var sum = 0;// 합계를 담을 변수
		for(var i = 0 ; i < 12 ; i++) {
			//val.substr(0,1) * arr[0];
			//val.substr(1,1) * arr[1];
			sum += (parseInt(val.substr(i,1)) * arr[i]);

		}
		
		//2.1번 합을 11로 나눈 나머지
		var tmp1 = sum % 11;
		//3.11 - 2번
		var tmp2 = 11 - tmp1;
		//4.0~9이면 그대로, 10이면 0, 11이면 1로 변환
		var tmp3;
		if(tmp2 == 10) {
			tmp3 = 0;
		} else if(tmp2 == 11) {
			tmp3 = 1;
		} else {
			tmp3 = tmp2;
		}
		
		//4번 결과와 M자리 값이 맞으면 맞음.
		if(tmp3 == val.substr(12)) {
			alert("정상입니다.");
		} else { alert("오류입니다.");
		}
	}
	</script>
</body>
</html>